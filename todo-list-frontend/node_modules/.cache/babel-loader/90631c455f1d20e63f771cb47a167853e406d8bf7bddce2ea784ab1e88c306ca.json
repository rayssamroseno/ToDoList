{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rayss\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\todo-list\\\\todo-list-frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport AddTaskForm from './components/AddTaskForm';\nimport EditTaskForm from './components/EditTaskForm';\nimport FilterTasks from './components/FilterTasks';\nimport TaskList from './components/TaskList';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchTasks = () => {\n      fetch('http://localhost:5000/tasks').then(response => response.json()).then(data => {\n        console.log('Tarefas obtidas:', data);\n        this.setState({\n          tasks: data\n        });\n      }).catch(error => console.error('Erro ao obter a lista de tarefas:', error));\n    };\n    this.addTask = task => {\n      fetch('http://localhost:5000/tasks', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(task)\n      }).then(response => response.json()).then(data => {\n        console.log('Tarefa adicionada:', data);\n        this.setState(prevState => ({\n          tasks: [...prevState.tasks, data]\n        }), () => {\n          console.log('Estado atualizado:', this.state.tasks);\n        });\n      }).catch(error => console.error('Erro ao adicionar a tarefa:', error));\n    };\n    this.updateTask = updatedTask => {\n      fetch(`http://localhost:5000/tasks/${updatedTask._id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updatedTask)\n      }).then(response => response.json()).then(data => {\n        console.log('Tarefa atualizada:', data);\n        this.setState(prevState => ({\n          tasks: prevState.tasks.map(task => task._id === data._id ? data : task),\n          editingTask: null\n        }), () => {\n          console.log('Estado atualizado após edição:', this.state.tasks);\n        });\n      }).catch(error => console.error('Erro ao atualizar a tarefa:', error));\n    };\n    this.deleteTask = id => {\n      fetch(`http://localhost:5000/tasks/${id}`, {\n        method: 'DELETE'\n      }).then(() => {\n        console.log('Tarefa excluída:', id);\n        this.setState(prevState => ({\n          tasks: prevState.tasks.filter(task => task._id !== id)\n        }), () => {\n          console.log('Estado atualizado após exclusão:', this.state.tasks);\n        });\n      }).catch(error => console.error('Erro ao excluir a tarefa:', error));\n    };\n    this.completeTask = id => {\n      // Encontrar a tarefa pelo ID\n      const taskToComplete = this.state.tasks.find(task => task._id === id);\n\n      // Atualizar o status da tarefa para concluída\n      const updatedTask = {\n        ...taskToComplete,\n        completed: true\n      };\n      this.updateTask(updatedTask);\n\n      // Remover a tarefa da lista\n      this.setState(prevState => ({\n        tasks: prevState.tasks.filter(task => task._id !== id)\n      }));\n    };\n    this.setFilter = filter => {\n      this.setState({\n        filter\n      });\n    };\n    this.editTask = task => {\n      this.setState({\n        editingTask: task\n      });\n    };\n    this.cancelEdit = () => {\n      this.setState({\n        editingTask: null\n      });\n    };\n    this.state = {\n      tasks: [],\n      filter: '',\n      editingTask: null\n    };\n  }\n  componentDidMount() {\n    this.fetchTasks();\n  }\n  render() {\n    const {\n      tasks,\n      filter,\n      editingTask\n    } = this.state;\n    const filteredTasks = tasks.filter(task => task.title.toLowerCase().includes(filter.toLowerCase()));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Lista de Tarefas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task-components\",\n        children: [/*#__PURE__*/_jsxDEV(FilterTasks, {\n          filter: filter,\n          setFilter: this.setFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), editingTask ? /*#__PURE__*/_jsxDEV(EditTaskForm, {\n          task: editingTask,\n          updateTask: this.updateTask,\n          cancelEdit: this.cancelEdit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AddTaskForm, {\n          addTask: this.addTask\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n        tasks: filteredTasks,\n        editTask: this.editTask,\n        deleteTask: this.deleteTask,\n        completeTask: this.completeTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","AddTaskForm","EditTaskForm","FilterTasks","TaskList","jsxDEV","_jsxDEV","App","constructor","props","fetchTasks","fetch","then","response","json","data","console","log","setState","tasks","catch","error","addTask","task","method","headers","body","JSON","stringify","prevState","state","updateTask","updatedTask","_id","map","editingTask","deleteTask","id","filter","completeTask","taskToComplete","find","completed","setFilter","editTask","cancelEdit","componentDidMount","render","filteredTasks","title","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/rayss/OneDrive/Área de Trabalho/todo-list/todo-list-frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport AddTaskForm from './components/AddTaskForm';\r\nimport EditTaskForm from './components/EditTaskForm';\r\nimport FilterTasks from './components/FilterTasks';\r\nimport TaskList from './components/TaskList';\r\nimport './index.css';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tasks: [],\r\n      filter: '',\r\n      editingTask: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchTasks();\r\n  }\r\n\r\n  fetchTasks = () => {\r\n    fetch('http://localhost:5000/tasks')\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log('Tarefas obtidas:', data);\r\n        this.setState({ tasks: data });\r\n      })\r\n      .catch(error => console.error('Erro ao obter a lista de tarefas:', error));\r\n  };\r\n\r\n  addTask = (task) => {\r\n    fetch('http://localhost:5000/tasks', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(task),\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      console.log('Tarefa adicionada:', data);\r\n      this.setState((prevState) => ({\r\n        tasks: [...prevState.tasks, data]\r\n      }), () => {\r\n        console.log('Estado atualizado:', this.state.tasks);\r\n      });\r\n    })\r\n    .catch(error => console.error('Erro ao adicionar a tarefa:', error));\r\n  };\r\n\r\n  updateTask = (updatedTask) => {\r\n    fetch(`http://localhost:5000/tasks/${updatedTask._id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(updatedTask),\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      console.log('Tarefa atualizada:', data);\r\n      this.setState((prevState) => ({\r\n        tasks: prevState.tasks.map(task => \r\n          task._id === data._id ? data : task\r\n        ),\r\n        editingTask: null,\r\n      }), () => {\r\n        console.log('Estado atualizado após edição:', this.state.tasks);\r\n      });\r\n    })\r\n    .catch(error => console.error('Erro ao atualizar a tarefa:', error));\r\n  };\r\n\r\n  deleteTask = (id) => {\r\n    fetch(`http://localhost:5000/tasks/${id}`, {\r\n      method: 'DELETE',\r\n    })\r\n    .then(() => {\r\n      console.log('Tarefa excluída:', id);\r\n      this.setState((prevState) => ({\r\n        tasks: prevState.tasks.filter(task => task._id !== id),\r\n      }), () => {\r\n        console.log('Estado atualizado após exclusão:', this.state.tasks);\r\n      });\r\n    })\r\n    .catch(error => console.error('Erro ao excluir a tarefa:', error));\r\n  };\r\n\r\n  completeTask = (id) => {\r\n    // Encontrar a tarefa pelo ID\r\n    const taskToComplete = this.state.tasks.find(task => task._id === id);\r\n    \r\n    // Atualizar o status da tarefa para concluída\r\n    const updatedTask = { ...taskToComplete, completed: true };\r\n    this.updateTask(updatedTask);\r\n  \r\n    // Remover a tarefa da lista\r\n    this.setState(prevState => ({\r\n      tasks: prevState.tasks.filter(task => task._id !== id)\r\n    }));\r\n  };  \r\n\r\n  setFilter = (filter) => {\r\n    this.setState({ filter });\r\n  };\r\n\r\n  editTask = (task) => {\r\n    this.setState({ editingTask: task });\r\n  };\r\n\r\n  cancelEdit = () => {\r\n    this.setState({ editingTask: null });\r\n  };\r\n\r\n  render() {\r\n    const { tasks, filter, editingTask } = this.state;\r\n    const filteredTasks = tasks.filter(task => \r\n      task.title.toLowerCase().includes(filter.toLowerCase())\r\n    );\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <h1>Lista de Tarefas</h1>\r\n        <div className=\"task-components\">\r\n          <FilterTasks filter={filter} setFilter={this.setFilter} />\r\n          {editingTask ? (\r\n            <EditTaskForm \r\n              task={editingTask} \r\n              updateTask={this.updateTask} \r\n              cancelEdit={this.cancelEdit} \r\n            />\r\n          ) : (\r\n            <AddTaskForm addTask={this.addTask} />\r\n          )}\r\n        </div>\r\n        <TaskList \r\n          tasks={filteredTasks} \r\n          editTask={this.editTask} \r\n          deleteTask={this.deleteTask} \r\n          completeTask={this.completeTask} \r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}